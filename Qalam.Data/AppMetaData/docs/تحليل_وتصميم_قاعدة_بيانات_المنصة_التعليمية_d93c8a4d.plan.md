---
name: ØªØµÙ…ÙŠÙ… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ©
overview: ØªØµÙ…ÙŠÙ… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø© ÙˆÙ…Ø­Ø³Ù‘Ù†Ø© Ù„Ù†Ø¸Ø§Ù… Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø°ÙƒÙŠØ© Ù…Ø¹ ÙØµÙ„ ÙˆØ§Ø¶Ø­ Ø¨ÙŠÙ† Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© (Admin Infrastructure) ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ© (Operations)ØŒ Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ ÙˆØ§Ù„Ù„ØºØ§Øª ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª.
todos:
  - id: admin-core-tables
    content: Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Domains, Curriculums, Levels, Subjects)
    status: pending
  - id: quran-tables
    content: Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯Ø§ÙˆÙ„ ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… Ø§Ù„Ù…ØªØ®ØµØµØ©
    status: pending
  - id: teaching-modes-structure
    content: Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø·Ø±Ù‚ Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ§Ù„Ù‚ÙˆØ§Ø¹Ø¯
    status: pending
  - id: admin-configurations
    content: Ø¥Ù†Ø´Ø§Ø¡ Entity Configurations Ù„Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©
    status: pending
  - id: admin-seeders
    content: Ø¥Ù†Ø´Ø§Ø¡ Seeders Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Domains, Teaching Modes, Session Types)
    status: pending
  - id: admin-documentation
    content: ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
    status: pending
---

# ØªØµÙ…ÙŠÙ… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ©

## ğŸ¯ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„ØªØµÙ…ÙŠÙ…

1. **ÙØµÙ„ ÙˆØ§Ø¶Ø­**: Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© Ù…Ù†ÙØµÙ„Ø© Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©
2. **Ù‚ÙŠÙ… Ø«Ø§Ø¨ØªØ©**: Ø§Ù„ØªØ¯Ø±ÙŠØ³ (Ø­Ø¶ÙˆØ±ÙŠ/Ø¹Ù† Ø¨Ø¹Ø¯) ÙˆØ§Ù„Ø¬Ù„Ø³Ø§Øª (ÙØ±Ø¯ÙŠ/Ø¬Ù…Ø§Ø¹ÙŠ) Ù‚ÙŠÙ… Ø«Ø§Ø¨ØªØ©
3. **Ù…Ø±ÙˆÙ†Ø©**: Ø¯Ø¹Ù… Ø¥Ø¶Ø§ÙØ© Ù…Ø¬Ø§Ù„Ø§Øª ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø¯ÙˆÙ† Refactor
4. **ØªØ®ØµØµÙŠØ©**: Ø¯Ø¹Ù… Ø®Ø§Øµ Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…
5. **Ù…Ø¹ÙŠØ§Ø±ÙŠØ©**: Ø¯Ø¹Ù… Ù…Ù†Ø§Ù‡Ø¬ Ù…ØªØ¹Ø¯Ø¯Ø© (Ø³Ø¹ÙˆØ¯ÙŠØŒ Ù…ØµØ±ÙŠØŒ Ø¥Ù„Ø®)

---

## ğŸ“‹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### Ø§Ù„Ù‚Ø³Ù… 1: Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© (Admin Infrastructure)

- Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„Ù…Ù†Ø§Ù‡Ø¬
- Ø§Ù„Ù…Ø±Ø§Ø­Ù„ ÙˆØ§Ù„ØµÙÙˆÙ ÙˆØ§Ù„Ù…ÙˆØ§Ø¯
- ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…
- Ø·Ø±Ù‚ Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ§Ù„Ù‚ÙˆØ§Ø¹Ø¯

### Ø§Ù„Ù‚Ø³Ù… 2: Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ù…ÙˆØ¬ÙˆØ¯ - Ø³ÙŠØªÙ… ØªÙˆØ³Ø¹ØªÙ‡)

- Teachers, Students, Roles

### Ø§Ù„Ù‚Ø³Ù… 3: Ø§Ù„ØªÙˆÙØ± ÙˆØ§Ù„Ø¬Ø¯ÙˆÙ„Ø© (Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹)

### Ø§Ù„Ù‚Ø³Ù… 4: Ø§Ù„Ø¯ÙˆØ±Ø§Øª ÙˆØ§Ù„Ø¬Ù„Ø³Ø§Øª (Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹)

### Ø§Ù„Ù‚Ø³Ù… 5: Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª (Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹)

---

## ğŸ—„ï¸ Ø§Ù„Ù‚Ø³Ù… 1: Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© (Admin Infrastructure)

### Schema: `education`

---

### 1.1 Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

#### `EducationDomains` - Ù†Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…

```csharp
public class EducationDomain : AuditableEntity
{
    public int Id { get; set; }
    
    [Required, MaxLength(100)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(100)]
    public string NameEn { get; set; } = default!;
    
    [Required, MaxLength(50)]
    public string Code { get; set; } = default!; // school, quran, language, skills
    
    public bool HasCurriculum { get; set; } // Ù‡Ù„ ÙŠØ­ØªØ§Ø¬ Ù…Ù†Ù‡Ø¬ Ø±Ø³Ù…ÙŠØŸ
    
    [MaxLength(500)]
    public string? DescriptionAr { get; set; }
    
    [MaxLength(500)]
    public string? DescriptionEn { get; set; }
    
    public bool IsActive { get; set; } = true;
    
    // Navigation Properties
    public ICollection<EducationLevel> EducationLevels { get; set; } = new List<EducationLevel>();
    public ICollection<Subject> Subjects { get; set; } = new List<Subject>();
    public ICollection<DomainTeachingMode> DomainTeachingModes { get; set; } = new List<DomainTeachingMode>();
    public EducationRule? EducationRule { get; set; }
}
```

**Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© (Seed Data):**

- ØªØ¹Ù„ÙŠÙ… Ù…Ø¯Ø±Ø³ÙŠ (school) - HasCurriculum: true
- Ù‚Ø±Ø¢Ù† ÙƒØ±ÙŠÙ… (quran) - HasCurriculum: false
- Ù„ØºØ§Øª (language) - HasCurriculum: false
- Ù…Ù‡Ø§Ø±Ø§Øª Ø¹Ø§Ù…Ø© (skills) - HasCurriculum: false

---

#### `Curriculums` - Ø§Ù„Ù…Ù†Ø§Ù‡Ø¬ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©

```csharp
public class Curriculum : AuditableEntity
{
    public int Id { get; set; }
    
    [Required, MaxLength(100)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(100)]
    public string NameEn { get; set; } = default!;
    
    [MaxLength(100)]
    public string? Country { get; set; } // Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŒ Ù…ØµØ±ØŒ Ø¥Ù„Ø®
    
    [MaxLength(500)]
    public string? DescriptionAr { get; set; }
    
    [MaxLength(500)]
    public string? DescriptionEn { get; set; }
    
    public bool IsActive { get; set; } = true;
    
    // Navigation Properties
    public ICollection<EducationLevel> EducationLevels { get; set; } = new List<EducationLevel>();
    public ICollection<AcademicTerm> AcademicTerms { get; set; } = new List<AcademicTerm>();
    public ICollection<Subject> Subjects { get; set; } = new List<Subject>();
}
```

**Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©:**

- Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ
- Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ù…ØµØ±ÙŠ
- Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ

---

### 1.2 Ø§Ù„Ù…Ø±Ø§Ø­Ù„ ÙˆØ§Ù„ØµÙÙˆÙ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©

#### `EducationLevels` - Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©

```csharp
public class EducationLevel : AuditableEntity
{
    public int Id { get; set; }
    
    public int DomainId { get; set; }
    public EducationDomain Domain { get; set; } = default!;
    
    public int? CurriculumId { get; set; } // nullable Ù„Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø¨Ø¯ÙˆÙ† Ù…Ù†Ù‡Ø¬
    public Curriculum? Curriculum { get; set; }
    
    [Required, MaxLength(100)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(100)]
    public string NameEn { get; set; } = default!;
    
    public int OrderIndex { get; set; } // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø±Ø¶
    
    public bool IsActive { get; set; } = true;
    
    // Navigation Properties
    public ICollection<Grade> Grades { get; set; } = new List<Grade>();
    public ICollection<Subject> Subjects { get; set; } = new List<Subject>();
}
```

**Ø£Ù…Ø«Ù„Ø©:**

- **Ù…Ø¯Ø±Ø³ÙŠ (Ø³Ø¹ÙˆØ¯ÙŠ)**: Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØŒ Ù…ØªÙˆØ³Ø·ØŒ Ø«Ø§Ù†ÙˆÙŠ
- **Ù‚Ø±Ø¢Ù†**: ØªÙ…Ù‡ÙŠØ¯ÙŠØŒ Ù…Ø¨ØªØ¯Ø¦ØŒ Ù…ØªÙˆØ³Ø·ØŒ Ù…ØªÙ‚Ø¯Ù…
- **Ù„ØºØ§Øª**: Ù…Ø¨ØªØ¯Ø¦ØŒ Ù…ØªÙˆØ³Ø·ØŒ Ù…ØªÙ‚Ø¯Ù…

---

#### `Grades` - Ø§Ù„ØµÙÙˆÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©

```csharp
public class Grade : AuditableEntity
{
    public int Id { get; set; }
    
    public int LevelId { get; set; }
    public EducationLevel Level { get; set; } = default!;
    
    [Required, MaxLength(50)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(50)]
    public string NameEn { get; set; } = default!;
    
    public int OrderIndex { get; set; }
    
    public bool IsActive { get; set; } = true;
    
    // Navigation Properties
    public ICollection<Subject> Subjects { get; set; } = new List<Subject>();
}
```

**Ø£Ù…Ø«Ù„Ø©:**

- Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ: Ø§Ù„Ø£ÙˆÙ„ØŒ Ø§Ù„Ø«Ø§Ù†ÙŠØŒ ... Ø§Ù„Ø³Ø§Ø¯Ø³
- Ù…ØªÙˆØ³Ø·: Ø§Ù„Ø£ÙˆÙ„ØŒ Ø§Ù„Ø«Ø§Ù†ÙŠØŒ Ø§Ù„Ø«Ø§Ù„Ø«
- Ø«Ø§Ù†ÙˆÙŠ: Ø§Ù„Ø£ÙˆÙ„ØŒ Ø§Ù„Ø«Ø§Ù†ÙŠØŒ Ø§Ù„Ø«Ø§Ù„Ø«

---

#### `AcademicTerms` - Ø§Ù„ÙØµÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©

```csharp
public class AcademicTerm : AuditableEntity
{
    public int Id { get; set; }
    
    public int CurriculumId { get; set; }
    public Curriculum Curriculum { get; set; } = default!;
    
    [Required, MaxLength(50)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(50)]
    public string NameEn { get; set; } = default!;
    
    public int OrderIndex { get; set; }
    
    public bool IsMandatory { get; set; } = true; // Ø¥Ù„Ø²Ø§Ù…ÙŠØŸ
    
    public bool IsActive { get; set; } = true;
    
    // Navigation Properties
    public ICollection<Subject> Subjects { get; set; } = new List<Subject>();
}
```

**Ø£Ù…Ø«Ù„Ø©:**

- Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„
- Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ
- Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù„Ø« (Ù„Ù„Ù…Ù†Ø§Ù‡Ø¬ Ø°Ø§Øª 3 ÙØµÙˆÙ„)

---

### 1.3 Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ

#### `Subjects` - Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©

```csharp
public class Subject : AuditableEntity
{
    public int Id { get; set; }
    
    public int DomainId { get; set; }
    public EducationDomain Domain { get; set; } = default!;
    
    public int? CurriculumId { get; set; }
    public Curriculum? Curriculum { get; set; }
    
    public int? LevelId { get; set; }
    public EducationLevel? Level { get; set; }
    
    public int? GradeId { get; set; }
    public Grade? Grade { get; set; }
    
    public int? TermId { get; set; }
    public AcademicTerm? Term { get; set; }
    
    [Required, MaxLength(100)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(100)]
    public string NameEn { get; set; } = default!;
    
    [MaxLength(500)]
    public string? DescriptionAr { get; set; }
    
    [MaxLength(500)]
    public string? DescriptionEn { get; set; }
    
    public bool IsActive { get; set; } = true;
    
    // Navigation Properties
    public ICollection<ContentUnit> ContentUnits { get; set; } = new List<ContentUnit>();
    public ICollection<TeacherSubject> TeacherSubjects { get; set; } = new List<TeacherSubject>();
}
```

**Ø£Ù…Ø«Ù„Ø©:**

- **Ù…Ø¯Ø±Ø³ÙŠ**: Ø±ÙŠØ§Ø¶ÙŠØ§ØªØŒ Ø¹Ù„ÙˆÙ…ØŒ Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©ØŒ Ù„ØºØ© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
- **Ù„ØºØ§Øª**: English, French, German
- **Ù…Ù‡Ø§Ø±Ø§Øª**: Ø¨Ø±Ù…Ø¬Ø©ØŒ ØªØµÙ…ÙŠÙ…ØŒ Ø¥Ø¯Ø§Ø±Ø© Ù…Ø´Ø§Ø±ÙŠØ¹

---

#### `ContentUnits` - Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©

```csharp
public class ContentUnit : AuditableEntity
{
    public int Id { get; set; }
    
    public int SubjectId { get; set; }
    public Subject Subject { get; set; } = default!;
    
    [Required, MaxLength(200)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(200)]
    public string NameEn { get; set; } = default!;
    
    public int OrderIndex { get; set; }
    
    public bool IsActive { get; set; } = true;
    
    // Navigation Properties
    public ICollection<Lesson> Lessons { get; set; } = new List<Lesson>();
}
```

---

#### `Lessons` - Ø§Ù„Ø¯Ø±ÙˆØ³

```csharp
public class Lesson : AuditableEntity
{
    public int Id { get; set; }
    
    public int UnitId { get; set; }
    public ContentUnit Unit { get; set; } = default!;
    
    [Required, MaxLength(200)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(200)]
    public string NameEn { get; set; } = default!;
    
    public int OrderIndex { get; set; }
    
    public bool IsActive { get; set; } = true;
}
```

---

### 1.4 ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… (Quran-Specific)

#### `QuranLevels` - Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†

```csharp
public class QuranLevel : AuditableEntity
{
    public int Id { get; set; }
    
    [Required, MaxLength(50)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(50)]
    public string NameEn { get; set; } = default!;
    
    public int OrderIndex { get; set; }
    
    [MaxLength(300)]
    public string? DescriptionAr { get; set; }
    
    [MaxLength(300)]
    public string? DescriptionEn { get; set; }
    
    public bool IsActive { get; set; } = true;
}
```

**Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©:**

- ØªÙ…Ù‡ÙŠØ¯ÙŠ
- Ù…Ø¨ØªØ¯Ø¦
- Ù…ØªÙˆØ³Ø·
- Ù…ØªÙ‚Ø¯Ù…

---

#### `QuranContentTypes` - Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠ

```csharp
public class QuranContentType : AuditableEntity
{
    public int Id { get; set; }
    
    [Required, MaxLength(50)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(50)]
    public string NameEn { get; set; } = default!;
    
    [Required, MaxLength(30)]
    public string Code { get; set; } = default!; // memorization, recitation, tajweed
    
    public bool IsActive { get; set; } = true;
}
```

**Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©:**

- Ø­ÙØ¸ (memorization)
- ØªÙ„Ø§ÙˆØ© (recitation)
- ØªØ¬ÙˆÙŠØ¯ (tajweed)

---

#### `QuranParts` - Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø¢Ù†

```csharp
public class QuranPart
{
    public int Id { get; set; }
    
    [Range(1, 30)]
    public int PartNumber { get; set; }
    
    [Required, MaxLength(100)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(100)]
    public string NameEn { get; set; } = default!;
}
```

**Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©:** 1-30 (Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡)---

#### `QuranSurahs` - Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù†

```csharp
public class QuranSurah
{
    public int Id { get; set; }
    
    [Range(1, 114)]
    public int SurahNumber { get; set; }
    
    [Required, MaxLength(100)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(100)]
    public string NameEn { get; set; } = default!;
    
    public int AyahCount { get; set; }
    
    public int? PartNumber { get; set; } // Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø°ÙŠ ØªØ¨Ø¯Ø£ ÙÙŠÙ‡ Ø§Ù„Ø³ÙˆØ±Ø©
}
```

**Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©:** 1-114 (Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³ÙˆØ±)---

### 1.5 Ø·Ø±Ù‚ Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ§Ù„Ø¬Ù„Ø³Ø§Øª

#### `TeachingModes` - Ø·Ø±Ù‚ Ø§Ù„ØªØ¯Ø±ÙŠØ³

```csharp
public class TeachingMode
{
    public int Id { get; set; }
    
    [Required, MaxLength(30)]
    public string Code { get; set; } = default!; // in_person, online
    
    [Required, MaxLength(50)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(50)]
    public string NameEn { get; set; } = default!;
    
    [MaxLength(200)]
    public string? DescriptionAr { get; set; }
    
    [MaxLength(200)]
    public string? DescriptionEn { get; set; }
    
    // Navigation Properties
    public ICollection<DomainTeachingMode> DomainTeachingModes { get; set; } = new List<DomainTeachingMode>();
}
```

**Ù‚ÙŠÙ… Ø«Ø§Ø¨ØªØ© ÙÙ‚Ø·:**

- Ø­Ø¶ÙˆØ±ÙŠ (in_person)
- Ø¹Ù† Ø¨ÙØ¹Ø¯ (online)

---

#### `DomainTeachingModes` - Ø±Ø¨Ø· Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø¨Ø·Ø±Ù‚ Ø§Ù„ØªØ¯Ø±ÙŠØ³

```csharp
public class DomainTeachingMode
{
    public int Id { get; set; }
    
    public int DomainId { get; set; }
    public EducationDomain Domain { get; set; } = default!;
    
    public int TeachingModeId { get; set; }
    public TeachingMode TeachingMode { get; set; } = default!;
    
    public bool IsAllowed { get; set; } = true;
    
    // Unique constraint: (DomainId, TeachingModeId)
}
```

**Ø£Ù…Ø«Ù„Ø©:**| Domain | Ø­Ø¶ÙˆØ±ÙŠ | Ø¹Ù† Ø¨Ø¹Ø¯ ||--------|-------|--------|| Ù…Ø¯Ø±Ø³ÙŠ | âœ“ | âœ“ || Ù‚Ø±Ø¢Ù† | âœ“ | âœ“ || Ù„ØºØ§Øª | âœ— | âœ“ || Ù…Ù‡Ø§Ø±Ø§Øª | âœ“ | âœ“ |---

#### `SessionTypes` - Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¬Ù„Ø³Ø§Øª (Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ù„Ø³Ø©)

```csharp
public class SessionType
{
    public int Id { get; set; }
    
    [Required, MaxLength(30)]
    public string Code { get; set; } = default!; // individual, group
    
    [Required, MaxLength(50)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(50)]
    public string NameEn { get; set; } = default!;
    
    [MaxLength(200)]
    public string? DescriptionAr { get; set; }
    
    [MaxLength(200)]
    public string? DescriptionEn { get; set; }
}
```

**Ù‚ÙŠÙ… Ø«Ø§Ø¨ØªØ© ÙÙ‚Ø·:**

- ÙØ±Ø¯ÙŠØ© (individual)
- Ø¬Ù…Ø§Ø¹ÙŠØ© (group)

---

### 1.6 Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©

#### `EducationRules` - Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©

```csharp
public class EducationRule : AuditableEntity
{
    public int Id { get; set; }
    
    public int DomainId { get; set; }
    public EducationDomain Domain { get; set; } = default!;
    
    // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¬Ù„Ø³Ø§Øª
    public int MinSessions { get; set; } = 1;
    public int MaxSessions { get; set; } = 100;
    public int DefaultSessionDurationMinutes { get; set; } = 60;
    
    // Ø§Ù„Ù…Ø±ÙˆÙ†Ø©
    public bool AllowExtension { get; set; } = true;
    public bool AllowFlexibleCourses { get; set; } = true;
    
    // Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©
    public int? MaxGroupSize { get; set; }
    public int? MinGroupSize { get; set; }
    
    // Ù…Ù„Ø§Ø­Ø¸Ø§Øª
    [MaxLength(500)]
    public string? NotesAr { get; set; }
    
    [MaxLength(500)]
    public string? NotesEn { get; set; }
    
    // Unique constraint: DomainId
}
```

**Ø£Ù…Ø«Ù„Ø©:**

- **Ù‚Ø±Ø¢Ù†**: min=8, max=40, duration=45, allowExtension=false
- **Ù…Ø¯Ø±Ø³ÙŠ**: min=4, max=50, duration=60, allowExtension=true

---

### 1.7 Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ©

#### `Locations` - Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ (Ù‡ÙŠÙƒÙ„ Ù‡Ø±Ù…ÙŠ)

```csharp
public class Location : AuditableEntity
{
    public int Id { get; set; }
    
    [Required, MaxLength(100)]
    public string NameAr { get; set; } = default!;
    
    [Required, MaxLength(100)]
    public string NameEn { get; set; } = default!;
    
    public int? ParentLocationId { get; set; }
    public Location? ParentLocation { get; set; }
    
    public LocationType Type { get; set; } // Country/Region/City/District
    
    public decimal? Latitude { get; set; }
    public decimal? Longitude { get; set; }
    
    public bool IsActive { get; set; } = true;
    
    // Navigation Properties
    public ICollection<Location> ChildLocations { get; set; } = new List<Location>();
}

public enum LocationType
{
    Country = 1,
    Region = 2,
    City = 3,
    District = 4
}
```

---

### 1.8 Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ø²Ù…Ù†ÙŠØ©

#### `TimeSlots` - Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©

```csharp
public class TimeSlot : AuditableEntity
{
    public int Id { get; set; }
    
    public TimeSpan StartTime { get; set; }
    public TimeSpan EndTime { get; set; }
    public int DurationMinutes { get; set; }
    
    [MaxLength(50)]
    public string? LabelAr { get; set; } // Ù…Ø«Ù„: "ÙØªØ±Ø© Ø§Ù„ØµØ¨Ø§Ø­"
    
    [MaxLength(50)]
    public string? LabelEn { get; set; }
    
    public bool IsActive { get; set; } = true;
}
```

**Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©:**

- 08:00-09:00, 09:00-10:00, ... 22:00-23:00

---

### 1.9 Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

#### `SystemSettings` - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø©

```csharp
public class SystemSetting : AuditableEntity
{
    public int Id { get; set; }
    
    [Required, MaxLength(100)]
    public string Key { get; set; } = default!;
    
    [Required]
    public string Value { get; set; } = default!;
    
    [MaxLength(200)]
    public string? DescriptionAr { get; set; }
    
    [MaxLength(200)]
    public string? DescriptionEn { get; set; }
    
    public SettingType Type { get; set; } // String/Number/Boolean/JSON
    
    public bool IsPublic { get; set; } = false;
    
    // Unique constraint: Key
}

public enum SettingType
{
    String = 1,
    Number = 2,
    Boolean = 3,
    JSON = 4
}
```

**Ø£Ù…Ø«Ù„Ø©:**

- `PlatformCommissionPercentage`: 15
- `DefaultSessionDuration`: 60
- `AllowTeacherSelfRegistration`: true

---

## ğŸ“Š Ù…Ø®Ø·Ø· Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª (ER Diagram)

```mermaid
erDiagram
    EducationDomains ||--o{ EducationLevels : "contains"
    EducationDomains ||--o{ Subjects : "categorizes"
    EducationDomains ||--o{ DomainTeachingModes : "has"
    EducationDomains ||--|| EducationRules : "defines"
    
    Curriculums ||--o{ EducationLevels : "applies_to"
    Curriculums ||--o{ AcademicTerms : "has"
    Curriculums ||--o{ Subjects : "defines"
    
    EducationLevels ||--o{ Grades : "contains"
    EducationLevels ||--o{ Subjects : "includes"
    
    Grades ||--o{ Subjects : "teaches"
    AcademicTerms ||--o{ Subjects : "covers"
    
    Subjects ||--o{ ContentUnits : "contains"
    ContentUnits ||--o{ Lessons : "includes"
    
    TeachingModes ||--o{ DomainTeachingModes : "available_for"
    
    Locations ||--o{ Locations : "has_child"
```

---

## ğŸ”§ Ø§Ù„ØªÙ†ÙÙŠØ°

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø¥Ù†Ø´Ø§Ø¡ Entities

#### Ù…Ø¬Ù„Ø¯: `Qalam.Data/Entity/Education/`

- `EducationDomain.cs`
- `Curriculum.cs`
- `EducationLevel.cs`
- `Grade.cs`
- `AcademicTerm.cs`
- `Subject.cs`
- `ContentUnit.cs`
- `Lesson.cs`

#### Ù…Ø¬Ù„Ø¯: `Qalam.Data/Entity/Quran/`

- `QuranLevel.cs`
- `QuranContentType.cs`
- `QuranPart.cs`
- `QuranSurah.cs`

#### Ù…Ø¬Ù„Ø¯: `Qalam.Data/Entity/Teaching/`

- `TeachingMode.cs`
- `SessionType.cs`
- `DomainTeachingMode.cs`
- `EducationRule.cs`

#### Ù…Ø¬Ù„Ø¯: `Qalam.Data/Entity/Common/`

- `Location.cs`
- `TimeSlot.cs`
- `SystemSetting.cs`

---

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: ØªØ­Ø¯ÙŠØ« ApplicationDBContext

```csharp
// Schema: education
public DbSet<EducationDomain> EducationDomains { get; set; }
public DbSet<Curriculum> Curriculums { get; set; }
public DbSet<EducationLevel> EducationLevels { get; set; }
public DbSet<Grade> Grades { get; set; }
public DbSet<AcademicTerm> AcademicTerms { get; set; }
public DbSet<Subject> Subjects { get; set; }
public DbSet<ContentUnit> ContentUnits { get; set; }
public DbSet<Lesson> Lessons { get; set; }

// Schema: quran
public DbSet<QuranLevel> QuranLevels { get; set; }
public DbSet<QuranContentType> QuranContentTypes { get; set; }
public DbSet<QuranPart> QuranParts { get; set; }
public DbSet<QuranSurah> QuranSurahs { get; set; }

// Schema: teaching
public DbSet<TeachingMode> TeachingModes { get; set; }
public DbSet<SessionType> SessionTypes { get; set; }
public DbSet<DomainTeachingMode> DomainTeachingModes { get; set; }
public DbSet<EducationRule> EducationRules { get; set; }

// Schema: common
public DbSet<Location> Locations { get; set; }
public DbSet<TimeSlot> TimeSlots { get; set; }
public DbSet<SystemSetting> SystemSettings { get; set; }
```

---

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø¥Ù†Ø´Ø§Ø¡ Configurations

#### Ù…Ø¬Ù„Ø¯: `Qalam.Infrastructure/Configurations/Education/`

- ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
- Indexes Ù„Ù„Ø£Ø¯Ø§Ø¡
- Constraints

**Ù…Ø«Ø§Ù„:**

```csharp
public class EducationDomainConfiguration : IEntityTypeConfiguration<EducationDomain>
{
    public void Configure(EntityTypeBuilder<EducationDomain> builder)
    {
        builder.ToTable("EducationDomains", "education");
        
        builder.HasIndex(e => e.Code).IsUnique();
        
        builder.HasMany(e => e.EducationLevels)
               .WithOne(l => l.Domain)
               .HasForeignKey(l => l.DomainId)
               .OnDelete(DeleteBehavior.Restrict);
    }
}
```

---

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: Ø¥Ù†Ø´Ø§Ø¡ Seeders

#### `EducationDomainsSeeder.cs`

```csharp
public class EducationDomainsSeeder
{
    public async Task SeedAsync(ApplicationDBContext context)
    {
        if (!await context.EducationDomains.AnyAsync())
        {
            var domains = new List<EducationDomain>
            {
                new() { NameAr = "ØªØ¹Ù„ÙŠÙ… Ù…Ø¯Ø±Ø³ÙŠ", NameEn = "School Education", Code = "school", HasCurriculum = true },
                new() { NameAr = "Ù‚Ø±Ø¢Ù† ÙƒØ±ÙŠÙ…", NameEn = "Quran", Code = "quran", HasCurriculum = false },
                new() { NameAr = "Ù„ØºØ§Øª", NameEn = "Languages", Code = "language", HasCurriculum = false },
                new() { NameAr = "Ù…Ù‡Ø§Ø±Ø§Øª Ø¹Ø§Ù…Ø©", NameEn = "General Skills", Code = "skills", HasCurriculum = false }
            };
            
            await context.EducationDomains.AddRangeAsync(domains);
            await context.SaveChangesAsync();
        }
    }
}
```



#### Seeders Ø¥Ø¶Ø§ÙÙŠØ©:

- `TeachingModesSeeder` (in_person, online)
- `SessionTypesSeeder` (individual, group)
- `QuranPartsSeeder` (1-30)
- `QuranSurahsSeeder` (1-114)
- `TimeSlotsSeeder` (08:00-23:00)

---

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Migration

```bash
dotnet ef migrations add AddEducationalInfrastructure --project Qalam.Infrastructure --startup-project Qalam.Api
```

---

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 6: Documentation

#### `DATABASE_SCHEMA_ADMIN.md`

- ØªÙˆØ«ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©
- Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ù‚ÙŠÙˆØ¯
- Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª
- Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

---

## âœ… Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

### Ø§Ù„Ø£Ù…Ø§Ù†

- ØªØ´ÙÙŠØ± `SystemSettings` Ø§Ù„Ø­Ø³Ø§Ø³Ø©
- Audit Log Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©
- Role-Based Access Control Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©

### Ø§Ù„Ø£Ø¯Ø§Ø¡

- Indexes Ø¹Ù„Ù‰: `Code`, `IsActive`, Foreign Keys
- Caching Ù„Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø«Ø§Ø¨ØªØ© (Domains, TeachingModes)
- Materialized Views Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

### Ù‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„ØªÙˆØ³Ø¹

- ØªØµÙ…ÙŠÙ… ÙŠØ³Ù…Ø­ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ø¬Ø§Ù„Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
- Ø¯Ø¹Ù… Ù…Ù†Ø§Ù‡Ø¬ Ù…ØªØ¹Ø¯Ø¯Ø©
- JSON Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ù†Ø© (SystemSettings)

### Ø§Ù„ØµÙŠØ§Ù†Ø©

- Soft Delete Ù„Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ù‡Ù…Ø©